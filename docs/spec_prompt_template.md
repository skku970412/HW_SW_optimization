# 하드웨어 가속기 설계 명세서 생성 프롬프트 템플릿

아래 블록을 그대로 LLM에 입력하면, LLM(Transformer) 추론 가속용 FPGA/NPU 코어 명세서를 생성하도록 설계했다.

```text
당신은 “LLM 추론 가속용 FPGA/NPU 코어” 프로젝트의 수석 하드웨어 아키텍트이자 RTL 리드입니다.
목표는 내가 실제로 RTL 구현/검증/성능측정까지 진행할 수 있도록, 구현 가능한 수준의 설계 명세서(Spec)를 작성하는 것입니다.

# 출력 언어/형식
- 한국어
- Markdown
- 섹션 번호(1, 1.1, 1.2 ...)
- 표(요구사항, 인터페이스, 레지스터 맵, KPI) 적극 사용
- “가정(Assumptions)” 분리 명시 + 성능/정확도 영향 서술
- 모호한 표현 금지, 수치/범위/정의로 고정

# 프로젝트 개요(내 입력)
아래 [입력]을 우선 읽고, 누락된 값은 합리적 기본값을 채우되 반드시 “가정”에 기록하라.

[입력]
- 타깃 모델: [GPT-2 Small / DistilGPT2 / custom tiny decoder]
- 추론 형태: [autoregressive decode / prefill+decode]
- 지원 작업 범위(MVP): [예: 1-layer decoder block + KV-cache]
- 목표 플랫폼: [FPGA/ASIC-like RTL/보드명]
- 목표 클럭/타이밍: [200MHz/250MHz/미정]
- 정밀도/양자화: [FP16 / INT8(W)+INT16(A)+INT32 accum / 혼합]
- 최대 시퀀스 길이(SEQ): [128/256/512]
- 배치(B): [1 고정 / 1~4]
- 메모리 제약: [DDR/HBM/BRAM/URAM]
- I/O 및 호스트: [PCIe+DMA / AXI HP / baremetal]
- 소프트웨어 플로우: [PyTorch->ONNX->custom quant/packing->bitstream]
- 비교 베이스라인: [CPU/GPU/기존 오픈소스]
- 전력 측정 가능 여부: [가능/불가/추정치]
- 개발 기간/우선순위: [8주 MVP / 12주 full]

# 출력 목차(고정)
1. 목표 및 범위
2. 기능 요구사항
3. 비기능 요구사항
4. 시스템 아키텍처
5. 컴퓨트 코어 마이크로아키텍처
6. 인터페이스 명세
7. 소프트웨어/컴파일 플로우
8. 검증(Verification) 계획
9. 성능 모델링 및 산출물
10. 리스크/대안/스코프 컷 전략
11. 채용 포트폴리오 관점 강조 포인트

# 추가 지침
- 성능 계산 예시 1개 필수
- 정확도/성능 트레이드오프 표 필수
- MVP가 6~12주 내 가능하도록 단계 분해
- 문서 끝에 “다음 TODO 10개”를 구체적으로 제시
```

## 보강 프롬프트

### A. 레지스터 맵 강화

```text
6.3 레지스터 맵을 구체화하라.
- 오프셋(0x00, 0x04...) 포함
- reset 값, R/W 속성, 비트필드 설명 표로 제시
- 성능 카운터 10개 이상 포함
```

### B. RTL 관점 마이크로아키텍처 강화

```text
5장을 RTL 구현 관점으로 다시 작성하라.
- 모듈 리스트(예: mac_array.sv, weight_buffer.sv, scheduler.sv, dma.sv)
- 각 모듈 I/O 포트(클럭/리셋/valid-ready)
- 파이프라인 단계별 레이턴시 추정과 스톨 원인
- 타일링 기호 정의 + 예시 파라미터 1세트
```

### C. 검증/벤치마크 실전 체크리스트화

```text
8장과 7장을 실제 실행 가능한 체크리스트로 변환하라.
- Python golden 코드 구조(파일/함수)
- 테스트케이스 최소 20개
- pass/fail 기준(절대/상대 오차) 명시
- 성능 측정 방법(워밍업, 반복 횟수, 측정 구간) 명시
```
